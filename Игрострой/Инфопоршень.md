---
tags:
  - note
  - gamedev
  - gameplay
  - infoportion
---
**Инфопоршень** (infoportion) — это часть системы сюжетной информации, которая обеспечивает **происхождение** сюжетного события в игре. При помощи ССИ можно задавать:
- **Условие выполнения** задания.
- **Условие провала** задания.
- **Условие начала** нового задания.

 Условно они разделяются на три группы:
- **Сюжетные** — обозначают завершение какого-либо события, задания.
- **Квестовые** — описывают продвижение персонажа внутри одного задания.
- **Вспомогательные** — используются для синхронизации скриптов или событий.

Стоит понимать, что разделение это условное и вне зависимости от типа инфопоршней, все они описываются идентично и обладают равными возможностями. Разница только в смысловом наполнении.
### Принцип работы

```mermaid
%%{init: {'themeVariables': { 'fontSize': '10px'}}}%%
flowchart LR
    A[Игрок начинает диалог с НПС] --> B{НПС даёт квест?}
    B -- Да --> C[Устанавливается инфопоршень]
    C --> D[Игрок идёт в зону квеста]
    B -- Нет --> Z[Диалог завершается]
    
    D --> E{Игрок вошёл в зону выполнения?}
    E -- Нет --> D
    E -- Да --> F[Проверка инфопоршня]
    
    F --> G{Инфопоршень активен?}
    G -- Нет --> H[Ничего не происходит]
    G -- Да --> I[Срабатывает событие квеста!]
    I --> J[Завершение квестового условия]
    
    H --> K[Игрок покидает квестовую зону]
    J --> K
    
    subgraph Zona [Квестовая зона]
        E
        F
        G
        I
    end
    
    subgraph Logic [Логика инфопоршня]
        C
        F
        G
        I
    end
```

> Важно! Инфопоршень всегда находится у одного объекта — если установить его у игрока, то он не появится у торговца (НПС), и наоборот.